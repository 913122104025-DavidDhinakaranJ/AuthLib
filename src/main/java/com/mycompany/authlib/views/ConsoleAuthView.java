package com.mycompany.authlib.views;import com.mycompany.authlib.controller.IAuthController;import com.mycompany.authlib.exceptions.IncorrectPasswordException;import com.mycompany.authlib.exceptions.UserAlreadyExistException;import com.mycompany.authlib.exceptions.UserNotFoundException;import com.mycompany.authlib.users.AuthenticatableUser;import com.mycompany.authlib.util.ConsoleAuthInputUtil;public class ConsoleAuthView implements IAuthView {    private final ConsoleAuthInputUtil inputReader;    private final IAuthController authController;        public ConsoleAuthView(IAuthController authController) {        inputReader = new ConsoleAuthInputUtil();        this.authController = authController;    }        @Override    public AuthenticatableUser handleRegistration() {        String username = inputReader.getUsername(true);        String password = inputReader.getPassword("Enter Password: ", true);        try {            AuthenticatableUser user = authController.handleRegistration(username, password);            displaySuccess("Registration Successful.");            return user;        } catch (UserAlreadyExistException e) {            displayError("Username already Exist.");        }        return null;    }        @Override    public AuthenticatableUser handleLogin() {        String username = inputReader.getUsername(false);        String password = inputReader.getPassword("Enter Password: ", false);        try {            AuthenticatableUser user = authController.handleLogin(username, password);            displaySuccess("Login Successful.");            return user;        } catch (UserNotFoundException e) {            displayError("User not found");        } catch (IncorrectPasswordException e) {            displayError("Incorrect Password");        }        return null;    }        @Override    public void changePassword(AuthenticatableUser user) {        String oldPassword = inputReader.getPassword("Enter Old Password: ", false);        String newPassword;        while(true) {            newPassword = inputReader.getPassword("Enter New Password: ", true);            String confirmPassword = inputReader.getPassword("Enter Confirm Password: ", false);                        if(!newPassword.equals(confirmPassword)) {                displayError("Confirm Password does not match the New Password.");                continue;            }            break;        }                try {            authController.changePassword(user, oldPassword, newPassword);            displaySuccess("Password Changed");        } catch (IncorrectPasswordException e) {            displayError("Incorrect Old Password");        }    }    private void displaySuccess(String message) {        System.out.println("Success: " + message);    }        private void displayError(String message) {        System.out.println("Error: " + message);    }}